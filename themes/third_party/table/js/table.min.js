$(document).ready(function(){var a=200,b=100,c=3,d=3,e=[0],f=[],g=!1,h=!1,i=!1,j=!1,k=!1;$.closest=function(a,b){var c=null,d=-1;return $.each(b,function(){(null===c||Math.abs(this-a)<Math.abs(c-a))&&(c=this,d++)}),{position:d,closest:c}},$.addRowDragger=function(a){$(".table__table").append('<div class="drag-row icon-reorder" style="top:'+(a-1)*b+'px" data-row="'+a+'"></div>'),$(".table__table").append('<div class="table__table__delete-row icon-remove-circle" style="top: '+(a*b-b/2-5)+'px" data-row="'+a+'"></div>')},$.addColDragger=function(b){$(".table__table").append('<div class="drag-col icon-reorder" style="left:'+(b*a-19)+'px" data-col="'+b+'"></div>')},$.addTransitionsClass=function(){$(".table__table .table__cell").addClass("transitions")},$.updateTableCells=function(){for(var a=0,b=1;d+1>b;b++)for(var e=1;c+1>e;e++)a++,$('.table__table .table__cell[data-row="'+b+'"][data-col="'+e+'"] :first-child').attr("tabindex",a)},$.updateRowPositionsCache=function(){e=[];for(var a=0;d>a;a++)e.push(a*b)};var l=0,m=0;$.addRowDragger(1),$(".table__table .table__cell").each(function(){l>=c&&(l=0,m++,$.addRowDragger(m+1),e.push(m*b)),$(this).css("left",l*a),$(this).css("top",m*b),0===m&&(f.push(l*a),$.addColDragger(l+1)),l++}),setTimeout($.addTransitionsClass,500),$(".table__table__add-row").on("click",function(f){f.preventDefault(),$(".table__table").css("height",$(".table__table").height()+b);var g=d+1,h=d*b;$.addRowDragger(g);for(var i=0;c>i;i++)$(".table__table").append('<div style="top:'+h+"px; left:"+i*a+'px" class="table__cell transitions" data-row="'+g+'" data-col="'+(i+1)+'"><textarea></textarea></div>');e.push(h),d++,$.updateTableCells()}),$(".table__table__add-col").on("click",function(e){e.preventDefault(),$(".table__table").css("width",$(".table__table").width()+a);var g=c+1,h=c*a;$.addColDragger(g);for(var i=0;d>i;i++)$(".table__table").append('<div style="top:'+i*b+"px; left:"+h+'px" class="table__cell transitions" data-row="'+(i+1)+'" data-col="'+g+'"><textarea></textarea></div>');f.push(h),c++,$.updateTableCells()}),$(document).on("click",".table__table__delete-row",function(){var a=$(this).data("row");$('.table__table .table__cell[data-row="'+a+'"]').addClass("table__cell-pending-delete"),confirm("Sure you want to delete the row?")&&($('.table__table .table__cell[data-row="'+a+'"]').remove(),$('.drag-row[data-row="'+a+'"]').remove(),$('.table__table__delete-row[data-row="'+a+'"]').remove()),$('.table__table .table__cell[data-row="'+a+'"]').removeClass("table__cell-pending-delete"),d--,$(".table__table").css("height",b*d),$.updateRowPositionsCache()});$(document).on("mousedown",".drag-row",function(a){a.preventDefault(),a.stopPropagation(),$(this).addClass("active__dragging__link");var b=$(this).data("row"),c=$(".table__table .table__cell[data-row="+b+"]");return c.removeClass("transitions").addClass("table__dragging__element"),$(".drag-row").not(".active__dragging__link").fadeOut(),g=!0,h=b,i=!1,!1}),$(document).on("mousedown",".drag-col",function(a){a.preventDefault(),a.stopPropagation(),$(this).addClass("active__dragging__link");var b=$(this).data("col");return $(".table__table .table__cell[data-col="+b+"]").removeClass("transitions").addClass("table__dragging__element"),$(".drag-col").not(".active__dragging__link").fadeOut(),g=!0,i=b,h=!1,!1}),$(document).on("mousemove",function(c){if(c.preventDefault(),g)if(h){k=c.pageY-$(".table__table").offset().top;var d=$(".drag-row.active__dragging__link");d.css("top",k+"px"),d.css("left","-20px"),d.css("position","absolute"),$(".table__dragging__element").each(function(){$(this).css("top",k+"px")});var l=$.closest(k,e),m=l.position+1;if(l.position+1>h){var n=l.position+1,o=l.closest-b;$(".table__table .table__cell[data-row="+n+"]").each(function(){$(this).css("top",o+"px"),$(this).attr("data-row",n-1),$(this).data("row",n-1)}),$(".table__dragging__element").each(function(){$(this).attr("data-row",m+1),$(this).data("row",m+1)}),h=m+1}else if(l.position+1<h){var p=l.position+1,q=p*b;$(".table__table .table__cell[data-row="+p+"]").each(function(){$(this).css("top",q+"px"),$(this).attr("data-row",p+1),$(this).data("row",p+1)}),$(".table__dragging__element").each(function(){$(this).attr("data-row",m),$(this).data("row",m)}),h=m}}else if(i){j=c.pageX-$(".table__table").offset().left-a;var r=$(".drag-col.active__dragging__link");r.css("top","-20px"),r.css("left",j+a-19+"px"),r.css("position","absolute"),$(".table__dragging__element").each(function(){$(this).css("left",j+"px")});var s=$.closest(j,f),t=s.position+1;if(t>i){var u=(s.position-1)*a;$(".table__table .table__cell[data-col="+t+"]").each(function(){$(this).css("left",u+"px"),$(this).attr("data-col",t-1),$(this).data("col",t-1)}),$(".table__dragging__element").each(function(){$(this).attr("data-col",t),$(this).data("col",t)}),i=t}else if(i>t){var v=(s.position+1)*a;$(".table__table .table__cell[data-col="+t+"]").each(function(){$(this).css("left",v+"px"),$(this).attr("data-col",t+1),$(this).data("col",t+1)}),$(".table__dragging__element").each(function(){$(this).attr("data-col",t),$(this).data("col",t)}),i=t}}return!1}),$(document).on("mouseup",function(c){if(c.preventDefault(),g=!1,$(".active__dragging__link").removeClass("active__dragging__link"),h){var d=$.closest(k,e),l=d.closest;$(".table__dragging__element").css("top",l+"px");var m=1;$(".drag-row").each(function(){$(this).css("top",(m-1)*b+"px"),$(this).attr("data-row",m),$(this).data("row",m),m++,$(this).show()})}else if(i){var n=$.closest(j,f),o=n.closest;$(".table__dragging__element").css("left",o+"px");var p=1;$(".drag-col").each(function(){$(this).css("left",p*a-19+"px"),$(this).attr("data-col",p),$(this).data("col",p),p++,$(this).show()})}return $(".table__cell").removeClass("table__dragging__element").addClass("transitions"),$.updateTableCells(),h=!1,i=!1,!1})});
//# sourceMappingURL=table.min.map